@using SFA.DAS.ApprenticeAan.Web.Models.NetworkEvents;
@using SFA.DAS.ApprenticeAan.Web.UrlHelpers;

@model NetworkEventDetailsViewModel

@{
    ViewData["Title"] = $"Event Page — {Model.Description}";
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <strong class="govuk-tag app-tag app-tag--@Model.EventFormatAppTagSuffix">@Model.EventFormatAppTagValue</strong> <strong class="govuk-tag app-tag">@Model.CalendarName</strong>
        <h1 class="govuk-heading-xl govuk-!-margin-top-4">@Model.Description.Trim()</h1>
        <div class="govuk-grid-row">
            <partial name=@Model.PartialViewName />
        </div>
        <h2 class="govuk-heading-m">Event summary</h2>
        <p>@Model.Summary</p>
        <h2 class="govuk-heading-m">Guest speakers</h2>
        <div class="app-speakers">
            @foreach (var person in Model.EventGuests)
            {
                <div class="app-speaker">
                    <h3 class="govuk-heading-s govuk-!-margin-bottom-1">@person.GuestName</h3>
                    <p>@person.GuestJobTitle</p>
                </div>
            }
        </div>
        <h2 class="govuk-heading-m">Event contact</h2>
        <p>If you have any questions or need to speak about requirements prior to the event, contact the event organiser @Model.ContactName by email: <a href=@Model.EmailLink class="govuk-link">@Model.ContactEmail</a></p>
        <h2 class="govuk-heading-m">Attendees (@Model.AttendeeCount)</h2>
        <div data-module="das-show-hide">
            <a class="govuk-link govuk-body das-show-hide__button govuk-!-margin-bottom-0" href="#event-attendee-list" data-aria-controls="event-attendee-list" data-button-string="all attendees">Show/hide</a>
            <div id="event-attendee-list">
                <ul class="govuk-list app-attendee-list">
                    @foreach (var person in Model.Attendees.OrderBy(a => a.MemberName))
                    {
                        <li>@person.MemberName</li>
                    }
                </ul>
            </div>
        </div>

    </div>
    <div class="govuk-grid-column-one-third">
        <div class="das-highlight govuk-!-margin-top-0">
            @if (Model.IsSignedUp)
            {
                <p class="app-green-tick-large">
                    <span class="das-icon-list__icon das-icon-list__icon--tick">Yes: </span>You're signed up
                </p>
            }
            else
            {
                <h3 class="govuk-heading-m">Want to be involved in this event?</h3>
                <a href="#" role="button" class="govuk-button govuk-!-margin-bottom-0 govuk-!-width-full">Sign up</a>
            }
        </div>
    </div>
</div>

@if (!Model.IsSignedUp)
{
    <button class="govuk-button govuk-!-margin-top-4" data-module="govuk-button">
        Sign up
    </button>
}