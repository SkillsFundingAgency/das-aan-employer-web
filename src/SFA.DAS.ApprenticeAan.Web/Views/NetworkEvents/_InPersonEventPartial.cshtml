@using Microsoft.AspNetCore.Mvc.ModelBinding;
@using SFA.DAS.ApprenticeAan.Web.Models.NetworkEvents;
@using SFA.DAS.ApprenticeAan.Web.UrlHelpers;

@model NetworkEventDetailsViewModel

@{
    var startDate = Model.StartDate.ToString("dddd dd-MM-yy");
    var startTime = Model.StartDate.ToString("h:mm tt");
    var endTime = Model.EndDate.ToString("h:mm tt");
    var longitude = Model.LocationDetails.Latitude!.Value;
    var latitude = Model.LocationDetails.Longitude!.Value;
    var mapImageLink = MapLinkGenerator.GetStaticImagePreviewLink(Model.LocationDetails, Model.GoogleMapsApiKey, Model.GoogleMapsPrivateKey);
    var fullMapLink = MapLinkGenerator.GetLinkToFullMap(Model.LocationDetails.Latitude!.Value, Model.LocationDetails.Longitude!.Value, Model.GoogleMapsApiKey, Model.GoogleMapsPrivateKey);
}

<strong class="govuk-tag app-tag app-tag--inperson">In person</strong> <strong class="govuk-tag app-tag">Conference</strong>
<h1 class="govuk-heading-xl govuk-!-margin-top-4">@Model.Description.Trim()</h1>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
        <h2 class="govuk-heading-m">When and where</h2>
        <p><span class="das-!-display--block">@startTime to @endTime</span> </p>
        <p>
            @Model.LocationDetails?.Location!.Trim(), <span class="das-no-wrap">@Model.LocationDetails?.Postcode!.ToUpper()</span>
        </p>
    </div>
    <div class="column-one-third map-container hide-nojs sfa-small-bottom-margin toggle-content--mob">
        <a href="@fullMapLink" target="_blank"><img class="static-map" src="@mapImageLink" class="map-links fake-link font-xxsmall view-googlemaps" alt="static map" /></a>
    </div>
</div>
